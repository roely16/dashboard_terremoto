<section class="tables">
	<div class="">
		<div class="row">
			<div class="col-lg-12">
			    <div class="card">

         			<div class="card-header d-flex align-items-center">
				        	<div class="col-lg-12">

					         <ol class="breadcrumb" >
								    <li class="breadcrumb-item" ><a href="#/">Inicio</a></li>
								    <li class="breadcrumb-item active" aria-current="page">Actividades</li>
							  	</ol>

							</div>
			        </div>

			        <div class="card-body">

						<!-- <div class="row">
							<div class="col-lg-4">
								<div class="input-group mb-3">
									<input type="text" class="form-control" placeholder="Buscar..." ng-model="search" ng-change="filter()">
									<div class="input-group-prepend">
										<span class="input-group-text" id="basic-addon1">
											<i class="fas fa-search"></i>
										</span>
									</div>
								</div>
							</div>

						</div> -->

						<div class="accordion" id="accordionExample">
						  	<div class="card" ng-if="rol.ACTIVIDADES.length > 0" ng-repeat="rol in roles">
								<div class="card-header" id="headingOne">
								  	<h5 class="col-lg-12 col-xs-12">
										<button class="btn btn-link col-xs-12" type="button" data-toggle="collapse" data-target="#{{ rol.ID_ROL }}" aria-expanded="true" aria-controls="collapseOne">
										  ACTIVIDADES DE {{ rol.NOMBRE }}
										</button>
								  	</h5>
								</div>

								<div id="{{ rol.ID_ROL }}" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
									  <div class="card-body">

										  <div class="col-lg-12">
			  								<div>
			  									<table class="table table-sm table-bordered" style="vertical-align: middle">
			  										<thead>
			  											<tr>
			  												<th class="text-center" style="width: 5%">No.</th>
			  												<th style="width: 75%">Nombre</th>
			  												<th class="text-center" style="width: 10%">Estado</th>
			  												<th class="text-center" style="width: 10%">Acción</th>
			  											</tr>
			  										</thead>
			  										<tbody>
			  											<tr ng-repeat="actividad in searched = (rol.ACTIVIDADES | filter:search | orderBy : base :reverse) | beginning_data:(current_grid - 1) * data_limit | limitTo:data_limit">
			  												<td class="text-center">{{ actividad.ORDEN }}</td>
			  												<td >{{ actividad.NOMBRE }}</td>
			  												<td class="text-center">

			  													<span ng-if="actividad.FECHA_FIN" class="badge badge-primary">REALIZADA</span>

			  													<span ng-if="!actividad.FECHA_FIN" class="badge badge-danger">PENDIENTE</span>

			  												</td>

			  												<td class="text-center">

			  													<button ng-if="!actividad.FECHA_FIN" class="btn btn-info btn-sm" ng-click="modalEditarActividad(actividad.ID_CORRELATIVO)" title="Editar">
			  														<i class="fas fa-info-circle"></i>
			  													</button>

			  													<button ng-if="actividad.FECHA_FIN" class="btn btn-primary btn-sm" ng-click="modalDetalleActividad(actividad.ID_CORRELATIVO)" title="Editar">
			  														<i class="fas fa-check"></i>
			  													</button>

			  												</td>
			  											</tr>
			  										</tbody>
			  									</table>
			  								</div>
			  							</div>

									  </div>
								</div>
					  	</div>
					</div>

						<!-- <div class="row" ng-show="filter_data > 0">

							<div class="col-lg-12">
								<div>
									<table class="table table-sm table-bordered" style="vertical-align: middle">
										<thead>
											<tr>
												<th class="text-center" style="width: 5%">No.</th>
												<th style="width: 75%">Nombre</th>
												<th class="text-center" style="width: 10%">Estado</th>
												<th class="text-center" style="width: 10%">Acción</th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="actividad in searched = (actividades | filter:search | orderBy : base :reverse) | beginning_data:(current_grid - 1) * data_limit | limitTo:data_limit">
												<td class="text-center">{{ actividad.ORDEN }}</td>
												<td >{{ actividad.NOMBRE }}</td>
												<td class="text-center">

													<span ng-if="actividad.FECHA_FIN" class="badge badge-primary">REALIZADA</span>

													<span ng-if="!actividad.FECHA_FIN" class="badge badge-danger">PENDIENTE</span>

												</td>

												<td class="text-center">

													<button ng-if="!actividad.FECHA_FIN" class="btn btn-info btn-sm" ng-click="modalEditarActividad(actividad.ID_CORRELATIVO)" title="Editar">
														<i class="fas fa-info-circle"></i>
													</button>

													<button ng-if="actividad.FECHA_FIN" class="btn btn-primary btn-sm" ng-click="modalDetalleActividad(actividad.ID_CORRELATIVO)" title="Editar">
														<i class="fas fa-check"></i>
													</button>

												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>

						<div class="row" ng-show="filter_data > 0">

							<div class="col-lg-6">

								<ul uib-pagination boundary-links="true" items-per-page="data_limit" total-items="filter_data" ng-model="current_grid" ng-change="pageChanged()" first-text="Primera" last-text="Última" previous-text="&laquo;" next-text="&raquo;" num-pages="numPages" max-size="maxSize"></ul>

							</div>
						</div>

						<div class="col-md-12" ng-show="filter_data == 0">
							<h4 class="text-center">-- No se encontraron registros --</h4>
						</div> -->

			    	</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Modal para editar actividad -->
<div class="modal fade" id="modalEditarActividad" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  	<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    	<div class="modal-content">
			<form ng-submit="finalizarTarea()">
		      	<div class="modal-header">
		        	<h5 class="modal-title" id="exampleModalCenterTitle">Finalizar Actividad</h5>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          	<span aria-hidden="true">&times;</span>
			        </button>
		      	</div>
		      	<div class="modal-body">
					<div class="row">
						<div class="col-lg-12">
							<div class="form-group">
						    	<label for="exampleInputEmail1">Nombre</label>
								<input type="text" ng-model="detalle_actividad.NOMBRE" class="form-control" readonly>
						  	</div>
						</div>
						<div class="col-lg-12">
							<div class="form-group">
						    	<label for="exampleInputEmail1">Descripción</label>
								<textarea type="text" ng-model="detalle_actividad.DESCRIPCION" class="form-control" readonly>
								</textarea>
						  	</div>
						</div>
						<div class="col-lg-4">
							<div class="form-group">
						    	<label for="exampleInputEmail1">Fecha de inicio</label>
								<input type="text" class="form-control" ng-model="detalle_actividad.FECHA_INI" readonly>
						  	</div>
						</div>
						<div class="col-lg-8">
							<div class="form-group">
						    	<label for="exampleInputEmail1">Comentario</label>
								<textarea name="name" rows="4" ng-model="detalle_actividad.COMENTARIO" class="form-control"></textarea>
						  	</div>
						</div>
						<div style="padding-top: 20px; padding-bottom: 20px" class="col-lg-12 text-center">
							<button type="submit" class="btn btn-primary btn-lg">FINALIZAR ACTIVIDAD</button>
						</div>
					</div>
		      	</div>
			</form>
    	</div>
  	</div>
</div>

<div class="modal fade" id="modalDetalleActividad" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  	<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    	<div class="modal-content">
	      	<div class="modal-header">
	        	<h5 class="modal-title" id="exampleModalCenterTitle">Detalle de la Actividad</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          	<span aria-hidden="true">&times;</span>
		        </button>
	      	</div>
	      	<div class="modal-body">
				<div class="row">
					<div class="col-lg-12">
						<div class="form-group">
					    	<label for="exampleInputEmail1">Nombre</label>
							<input type="text" ng-model="detalle_actividad.NOMBRE" class="form-control" readonly>
					  	</div>
					</div>
					<div class="col-lg-12">
						<div class="form-group">
					    	<label for="exampleInputEmail1">Descripción</label>
							<textarea type="text" ng-model="detalle_actividad.DESCRIPCION" class="form-control" readonly>
							</textarea>
					  	</div>
					</div>
					<div class="col-lg-6">
						<div class="form-group">
					    	<label for="exampleInputEmail1">Fecha de Inicio</label>
							<input type="text" class="form-control" ng-model="detalle_actividad.FECHA_INI" readonly>
					  	</div>
					</div>
					<div class="col-lg-6">
						<div class="form-group">
					    	<label for="exampleInputEmail1">Fecha de Finalización</label>
							<input type="text" class="form-control" ng-model="detalle_actividad.FECHA_FIN" readonly>
					  	</div>
					</div>
					<div class="col-lg-6">
						<div class="form-group">
					    	<label for="exampleInputEmail1">Comentario</label>
							<textarea name="name" rows="4" ng-model="detalle_actividad.COMENTARIO" class="form-control" readonly></textarea>
					  	</div>
					</div>
				</div>
	      	</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
			</div>
    	</div>
  	</div>
</div>
